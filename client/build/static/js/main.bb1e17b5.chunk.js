(this["webpackJsonpmiriam-nakiyingi-brainflix"]=this["webpackJsonpmiriam-nakiyingi-brainflix"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){"use strict";a.r(t);var i=a(1),c=a(18),s=a.n(c),n=a(10),d=a(11),o=a(13),l=a(12),r=(a(40),a(41),a(9)),j=(a(42),a(43),a.p+"static/media/BrainFlix-logo.e2aad4fb.svg"),m=a(0);var v=function(){return Object(m.jsx)(r.b,{to:"/",children:Object(m.jsx)("div",{className:"logo",children:Object(m.jsx)("img",{className:"logo__image",src:j,alt:"header logo"})})})};a(53);var h=function(e){var t=e.icon,a=e.placeholder,i=e.alt;return Object(m.jsxs)("div",{className:"search",children:[Object(m.jsx)("input",{className:"search__input",type:"search",name:"search",placeholder:a}),Object(m.jsx)("img",{className:"search__icon",src:t,alt:i})]})},b=(a(54),a.p+"static/media/Mohan-muruge.7f8e1b85.jpg");var u=function(){return Object(m.jsx)("div",{className:"avatar",children:Object(m.jsx)("img",{className:"avatar__image",src:b,alt:"avatar"})})};a(55);var _=function(e){var t=e.value,a=e.icon,i=e.alt;return Object(m.jsxs)("div",{className:"button",children:[Object(m.jsx)("button",{className:"button__action",children:t}),Object(m.jsx)("img",{className:"button__image",src:a,alt:i})]})},p=a.p+"static/media/upload.5883ade3.svg",O=a.p+"static/media/search.b2de04bd.svg";var x=function(){return Object(m.jsxs)("div",{className:"header",children:[Object(m.jsx)("div",{className:"header__logo",children:Object(m.jsx)(v,{})}),Object(m.jsxs)("div",{className:"header__input-avatar-container",children:[Object(m.jsx)("div",{className:"header__input",children:Object(m.jsx)(h,{icon:O,placeholder:"Search",alt:"search icon"})}),Object(m.jsx)("div",{className:"header__avatar",children:Object(m.jsx)(u,{})})]}),Object(m.jsx)(r.b,{to:"/video-upload",children:Object(m.jsx)("div",{className:"header__button",children:Object(m.jsx)(_,{value:"upload",icon:p,alt:"upload icon"})})}),Object(m.jsx)("div",{className:"header__avatar-tablet",children:Object(m.jsx)(u,{})})]})},f=a(20),N=a(3);a(56);var g=function(e){if(!e.selectedVideo)return Object(m.jsx)("p",{children:"Loading video"});var t=e.selectedVideo,a=t.video,i=t.image;return Object(m.jsx)("div",{className:"selected-video",children:Object(m.jsx)("div",{className:"selected-video__container",children:Object(m.jsx)("video",{className:"selected-video__player",controls:!0,poster:i,alt:"video selected",children:Object(m.jsx)("source",{src:"".concat(a,"?api_key=").concat(T)})})})})},y=(a(57),a.p+"static/media/views.8b6d21c6.svg"),w=a.p+"static/media/likes.246cd8f4.svg",V=a(19);a(58);var k=function(e){var t=e.label,a=e.placeholder,i=e.name,c=e.cols,s=e.rows,n=e.className,d=e.onChange,o=e.value;return Object(m.jsxs)("div",{className:"text-area",children:[Object(m.jsx)("label",{className:"text-area__label",htmlFor:"description",children:t}),Object(m.jsx)("textarea",{className:n,type:"text",name:i,value:o,id:i,cols:c,rows:s,onChange:d,placeholder:a})]})},C=a.p+"static/media/add_comment.26bc7a20.svg",D=(a(59),a(14)),S=a.n(D),L=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={comment:"",redirect:!1},e.handleChange=function(t){e.setState(Object(V.a)({},t.target.name,t.target.value))},e.isFormValid=function(){if(!e.state.comment)return!1},e.handleOnSubmit=function(t){t.preventDefault();var a=e.props.selectedVideo.id;e.isFormValid&&S.a.post("".concat(U,"/").concat(a,"/comments"),{comment:t.target.comment.value}).then((function(t){alert("Comment submitted"),e.setState({redirect:!0})})).catch((function(e){return e})),t.target.reset()},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props.selectedVideo.id;return this.state.redirect?Object(m.jsx)(N.a,{to:"/videos/".concat(t)}):Object(m.jsx)("div",{className:"form",children:Object(m.jsxs)("form",{onSubmit:function(t){return e.handleOnSubmit(t,e.props.selectedVideo.id)},className:"form__container",children:[Object(m.jsxs)("div",{className:"form__wrapper",children:[Object(m.jsx)("div",{className:"form__avatar",children:Object(m.jsx)(u,{})}),Object(m.jsx)("div",{className:"form__text-area",children:Object(m.jsx)(k,{cols:"40",rows:"6",name:"comment",value:this.props.comment,label:"join the converstion",placeholder:"Add a new comment",className:"form__description",onChange:this.handleChange})})]}),Object(m.jsx)("div",{className:"form__button",children:Object(m.jsx)(_,{value:"comment",icon:C,alt:"comment icon"})})]})})}}]),a}(i.Component),F=L,A=a(102),I=function(e){if(!e.selectedVideo)return Object(m.jsx)("p",{children:"Loading Video details"});var t=e.selectedVideo,a=t.title,i=t.channel,c=t.timestamp,s=t.views,n=t.likes,d=t.description,o=t.comments;return Object(m.jsx)("div",{className:"video",children:Object(m.jsxs)("div",{className:"video__details-container",children:[Object(m.jsx)("h2",{className:"video__title",children:a}),Object(m.jsx)("hr",{className:"video__divider video__divider--tablet-desktop"}),Object(m.jsxs)("div",{className:"video__info-wrapper",children:[Object(m.jsxs)("div",{className:"video__channel-time-wrapper",children:[Object(m.jsxs)("p",{className:"video__channel",children:["By ",i]}),Object(m.jsx)("p",{className:"video__time video__tags",children:function(e){return new Date(e).toLocaleDateString("default",{year:"numeric",month:"2-digit",day:"2-digit"})}(c)})]}),Object(m.jsxs)("div",{className:"video__views-likes-wrapper",children:[Object(m.jsxs)("div",{className:"video__number-icon",children:[Object(m.jsx)("button",{className:"video__views-button video__icon",children:Object(m.jsx)("img",{src:y,alt:"views icon"})}),Object(m.jsx)("p",{className:"video__views-count video__tags",children:s})]}),Object(m.jsxs)("div",{className:"video__number-icon video__number-icon--likes",children:[Object(m.jsx)("button",{className:"video__likes-button video__icon",children:Object(m.jsx)("img",{src:w,alt:"likes icon"})}),Object(m.jsx)("p",{className:"video__likes-count video__tags",children:n})]})]})]}),Object(m.jsx)("hr",{className:"video__divider"}),Object(m.jsx)("p",{className:"video__description",children:d}),Object(m.jsx)("div",{children:Object(m.jsxs)("p",{className:"video__comment-number",children:[o.length," Comments"]})}),Object(m.jsx)(F,{selectedVideo:e.selectedVideo}),Object(m.jsx)("hr",{className:"video__divider"})]})},Object(A.a)())},B=(a(78),function(e){var t=e.videoList;return Object(m.jsxs)("div",{className:"video-list",children:[Object(m.jsx)("h4",{className:"video-list__header",children:"next video"}),t.map((function(e){return Object(m.jsx)(r.b,{to:"/videos/".concat(e.id),className:"video-list__title",children:Object(m.jsxs)("div",{className:"video-list__container",children:[Object(m.jsx)("div",{className:"video-list__image-wrapper",children:Object(m.jsx)("img",{className:"video-list__image",src:e.image,alt:e.channel})}),Object(m.jsxs)("div",{className:"video-list__title-channel-wrapper",children:[Object(m.jsx)("p",{className:"video-list__title",children:e.title}),Object(m.jsx)("p",{className:"video-list__channel",children:e.channel})]})]})},e.id)}))]})});a(79);var J=function(e){if(!e.selectedVideo)return Object(m.jsx)("p",{children:"Loading Comments"});var t=e.selectedVideo.comments;return Object(m.jsx)("div",{className:"video-comments",children:t.map((function(e){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"video-comments__comments",children:[Object(m.jsxs)("div",{className:"video-comments__avatar-name-date-container",children:[Object(m.jsxs)("div",{className:"video-comments__avatar-name-container",children:[Object(m.jsx)("div",{className:"video-comments__avatar"}),Object(m.jsx)("p",{className:"video-comments__name video__channel",children:e.name})]}),Object(m.jsx)("p",{className:"video-comments__time video__tags",children:(t=e.timestamp,new Date(t).toLocaleDateString("default",{year:"numeric",month:"2-digit",day:"2-digit"}))})]}),Object(m.jsx)("p",{className:"video-comments__description",children:e.comment})]}),Object(m.jsx)("hr",{className:"video-comments__divider"})]},Object(A.a)());var t}))})},M=a(34),E=a.n(M),T=(a(98),"9c603683-73d2-4f20-accc-e82961045b5a"),U="".concat("http://localhost:8080","/videos"),q=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={videoList:[],selectedVideo:null,videoDetails:[]},e.fetchDetails=function(t){S.a.get("".concat(U,"/").concat(t)).then((function(t){var a=t.data;e.setState({selectedVideo:a})})).catch((function(e){return e}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.videoId;S.a.get("".concat(U)).then((function(a){var i=a.data;e.setState({videoList:i});var c=t||a.data[0].id;e.fetchDetails(c)})).catch((function(e){return e}))}},{key:"componentDidUpdate",value:function(e){var t=this.props.match.params.videoId,a=this.props.match.params.url;e.match.params.videoId!==t&&t&&this.fetchDetails(t),(!this.state.selectedVideo||t===a&&this.state.selectedVideo.id!==this.state.videoList[0].id)&&this.fetchDetails(this.state.videoList[0].id)}},{key:"render",value:function(){var e=this;if(!this.state.selectedVideo)return Object(m.jsx)(E.a,{type:"ThreeDots",color:"blue",height:50,width:50,timeout:3e3});var t=this.state.videoList.filter((function(t){return t.id!==e.state.selectedVideo.id}));return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(g,{selectedVideo:this.state.selectedVideo}),Object(m.jsxs)("div",{className:"app",children:[Object(m.jsxs)("div",{className:"app__video-details",children:[Object(m.jsx)(I,{selectedVideo:this.state.selectedVideo}),Object(m.jsx)("div",{className:"app__video-comments",children:Object(m.jsx)(J,{selectedVideo:this.state.selectedVideo})})]}),Object(m.jsx)("hr",{className:"app__vertical-divider"}),Object(m.jsx)("div",{className:"app__video-list",children:Object(m.jsx)(B,{videoList:t})})]})]})}}]),a}(i.Component),z=q,G=(a(99),a(100),a.p+"static/media/publish.9004aa72.svg"),H=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={title:"",description:"",redirect:!1},e.handleChange=function(t){e.setState(Object(V.a)({},t.target.name,t.target.value))},e.isFormDataValid=function(){var t=e.state,a=t.title,i=t.description;if(!a||!i)return!1},e.handleOnSubmit=function(t){t.preventDefault(),e.isFormDataValid&&S.a.post("".concat(U),{title:t.target.title.value,description:t.target.description.value}).then((function(t){e.setState({redirect:!0})})).catch((function(e){return e})),t.target.reset()},e}return Object(d.a)(a,[{key:"displayNotification",value:function(){f.b.success("Form submitted",{position:"top-center",autoClose:3e3})}},{key:"render",value:function(){return this.state.redirect?(this.displayNotification(),Object(m.jsx)(N.a,{to:"/"})):Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("form",{onSubmit:this.handleOnSubmit,className:"video-upload",children:[Object(m.jsx)("hr",{className:"video-upload__divider"}),Object(m.jsx)("h1",{className:"video-upload__title",children:"upload video"}),Object(m.jsx)("hr",{className:"video-upload__divider video-upload__divider--desktop"}),Object(m.jsxs)("div",{className:"video-upload__container",children:[Object(m.jsxs)("div",{className:"video-upload__label-thumbnail",children:[Object(m.jsx)("p",{className:"video-upload__label",children:"video thumbnail"}),Object(m.jsx)("div",{className:"video-upload__thumbnail"})]}),Object(m.jsxs)("div",{className:"video-upload__input-wrapper",children:[Object(m.jsx)("div",{className:"video-upload__input",children:Object(m.jsx)(k,{className:"video-upload__description",rows:"2",cols:"20",name:"title",value:this.state.title,label:"title to your video",placeholder:"Add a title to your video",onChange:this.handleChange})}),Object(m.jsx)("div",{className:"video-upload__input",children:Object(m.jsx)(k,{className:"video-upload__description",cols:"40",rows:"5",name:"description",value:this.state.description,label:"add a video description",placeholder:"Add a description to your video",onChange:this.handleChange})})]})]}),Object(m.jsx)("hr",{className:"video-upload__divider video-upload__divider--desktop"}),Object(m.jsxs)("div",{className:"video-upload__button-cancel",children:[Object(m.jsx)("div",{className:"video-upload__button",children:Object(m.jsx)(_,{value:"publish",icon:G})}),Object(m.jsx)(r.b,{to:"/",className:"video-upload__cancel-wrapper",children:Object(m.jsx)("p",{className:"video-upload__cancel",children:"cancel"})})]})]})})}}]),a}(i.Component),K=H,P=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(m.jsxs)(r.a,{children:[Object(m.jsx)(f.a,{}),Object(m.jsx)(x,{}),Object(m.jsxs)(N.d,{children:[Object(m.jsx)(N.b,{path:"/",exact:!0,component:z}),Object(m.jsx)(N.b,{path:"/video-upload",component:K}),Object(m.jsx)(N.b,{path:"/videos/:videoId",component:z})]})]})}}]),a}(i.Component),Q=P;s.a.render(Object(m.jsx)(Q,{}),document.getElementById("root"))},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){}},[[101,1,2]]]);
//# sourceMappingURL=main.bb1e17b5.chunk.js.map